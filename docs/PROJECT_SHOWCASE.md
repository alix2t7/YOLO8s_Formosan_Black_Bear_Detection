# 🖼️ 專案截圖和效果展示

## 📊 系統架構圖

```
┌─────────────────────────────────────────────────────────────────┐
│                    YOLOv8s 台灣黑熊檢測訓練系統                    │
└─────────────────────────────────────────────────────────────────┘
                                   │
                                   ▼
┌─────────────────────────────────────────────────────────────────┐
│                          🔧 環境管理層                          │
│  ┌─────────────────┐    ┌─────────────────┐                    │
│  │   平台檢測       │    │   依賴管理       │                    │
│  │ Kaggle/Colab    │    │ GPU/CUDA配置    │                    │
│  │ Local/Docker    │    │ 套件安裝驗證    │                    │
│  └─────────────────┘    └─────────────────┘                    │
└─────────────────────────────────────────────────────────────────┘
                                   │
                                   ▼
┌─────────────────────────────────────────────────────────────────┐
│                          📊 數據管理層                          │
│  ┌─────────────────┐    ┌─────────────────┐                    │
│  │   數據載入       │    │   7層品質驗證    │                    │
│  │ YOLO格式支援    │    │ 結構/格式檢查    │                    │
│  │ 多平台路徑      │    │ 品質/統計分析    │                    │
│  └─────────────────┘    └─────────────────┘                    │
└─────────────────────────────────────────────────────────────────┘
                                   │
                                   ▼
┌─────────────────────────────────────────────────────────────────┐
│                         🔬 智能優化層                           │
│  ┌─────────────────┐    ┌─────────────────┐                    │
│  │  Optuna TPE     │    │   多指標評估     │                    │
│  │ 貝葉斯優化算法   │    │ mAP/精確率/召回  │                    │
│  │ 智能參數搜索    │    │ 提前停止機制    │                    │
│  └─────────────────┘    └─────────────────┘                    │
└─────────────────────────────────────────────────────────────────┘
                                   │
                                   ▼
┌─────────────────────────────────────────────────────────────────┐
│                          🎯 訓練執行層                          │
│  ┌─────────────────┐    ┌─────────────────┐                    │
│  │  YOLOv8s 訓練   │    │   結果管理       │                    │
│  │ 參數自動整合    │    │ 模型保存導出    │                    │
│  │ 實時監控記錄    │    │ 性能分析報告    │                    │
│  └─────────────────┘    └─────────────────┘                    │
└─────────────────────────────────────────────────────────────────┘
```

## 🔄 完整訓練流程

```
🚀 啟動 main.py
        │
        ▼
    🔍 環境檢測
   ┌─────────────┐
   │ 平台類型檢測 │ ──→ Kaggle/Colab/Local/Docker
   │ GPU可用性檢查│ ──→ CUDA設置和驗證
   │ 依賴套件安裝 │ ──→ torch/ultralytics/optuna
   └─────────────┘
        │
        ▼
    📊 數據驗證
   ┌─────────────┐
   │ 結構驗證     │ ──→ train/val/test 目錄檢查
   │ 檔案匹配     │ ──→ images ↔ labels 對應
   │ 格式驗證     │ ──→ YOLO標籤格式檢查
   │ 品質檢查     │ ──→ 圖像品質和分佈分析
   │ 統計分析     │ ──→ 類別平衡和數據統計
   │ 建議生成     │ ──→ 改善建議和警告
   │ 報告輸出     │ ──→ 詳細驗證報告
   └─────────────┘
        │
        ▼
    🔬 超參數優化
   ┌─────────────┐
   │ TPE 採樣     │ ──→ 智能參數空間搜索
   │ 訓練執行     │ ──→ 小規模驗證訓練
   │ 性能評估     │ ──→ mAP50/精確率/召回率
   │ 提前停止     │ ──→ Median Pruner
   │ 最佳參數     │ ──→ 保存到 best_params.yaml
   └─────────────┘
        │
        ▼
    🎯 正式訓練
   ┌─────────────┐
   │ 參數載入     │ ──→ 使用優化後的最佳參數
   │ 模型初始化   │ ──→ YOLOv8s 架構配置
   │ 訓練執行     │ ──→ 完整 epochs 訓練
   │ 實時監控     │ ──→ 損失/mAP/學習率追蹤
   │ 檢查點保存   │ ──→ 定期保存模型狀態
   │ 結果導出     │ ──→ best.pt/last.pt
   └─────────────┘
        │
        ▼
    📋 結果管理
   ┌─────────────┐
   │ 性能報告     │ ──→ 最終模型性能分析
   │ 訓練曲線     │ ──→ 損失和指標可視化
   │ 模型導出     │ ──→ ONNX/TensorRT 格式
   │ 推理範例     │ ──→ 測試圖像檢測結果
   │ 文檔生成     │ ──→ 完整的 Pipeline 報告
   └─────────────┘
        │
        ▼
    🎉 完成
```

## 📈 預期效果展示

### 訓練進度監控
```
Epoch 1/300: Loss: 2.345, mAP50: 0.623, mAP95: 0.412
Epoch 2/300: Loss: 2.123, mAP50: 0.654, mAP95: 0.438
Epoch 3/300: Loss: 1.987, mAP50: 0.678, mAP95: 0.456
...
最佳性能: Epoch 156 - mAP50: 0.887, mAP95: 0.743
```

### 數據驗證結果
```
✅ 數據結構驗證通過
✅ 檔案匹配驗證通過 (1247/1247)
✅ YOLO格式驗證通過
✅ 圖像品質檢查通過
📊 訓練集: 998 張圖像, 1456 個標籤
📊 驗證集: 249 張圖像, 367 個標籤
📊 類別分佈: kumay: 63.2%, not_kumay: 36.8%
💡 建議: 考慮增加 not_kumay 類別的數據量
```

### 超參數優化結果
```
[I 2025-08-17 15:30:12] Trial 50 finished with value: 0.887
[I 2025-08-17 15:30:12] Best trial: 50
[I 2025-08-17 15:30:12] Best params:
    learning_rate: 0.0142
    batch_size: 16
    optimizer: AdamW
    weight_decay: 0.0005
    momentum: 0.937
```

## 🎯 熊類檢測效果

### 檢測結果示例 (模擬)
```
圖像: formosan_bear_001.jpg
檢測結果:
  - 類別: kumay (台灣黑熊)
  - 置信度: 0.94
  - 邊界框: (124, 87, 456, 389)
  
圖像: wild_boar_002.jpg  
檢測結果:
  - 類別: not_kumay (其他動物)
  - 置信度: 0.91
  - 邊界框: (78, 123, 234, 367)
```

### 模型性能指標
```
最終模型性能:
┌─────────────┬─────────┬─────────┬─────────┐
│   類別      │ 精確率  │ 召回率  │ mAP50   │
├─────────────┼─────────┼─────────┼─────────┤
│ kumay       │  0.89   │  0.92   │  0.91   │
│ not_kumay   │  0.85   │  0.81   │  0.83   │
├─────────────┼─────────┼─────────┼─────────┤
│ 平均        │  0.87   │  0.87   │  0.87   │
└─────────────┴─────────┴─────────┴─────────┘

總體 mAP50: 0.887
總體 mAP95: 0.743
```

## 🌟 技術亮點展示

### 1. 智能環境檢測
```bash
🔍 檢測到平台: Local
🖥️  作業系統: macOS
🐍 Python 版本: 3.11.5
🚀 GPU 可用: CUDA 11.8, 1 GPU(s)
📦 套件狀態: 所有依賴已安裝
✅ 環境檢測完成
```

### 2. 7層數據品質驗證
```bash
🔍 第1層: 目錄結構驗證... ✅
🔍 第2層: 檔案匹配驗證... ✅
🔍 第3層: 標籤格式驗證... ✅
🔍 第4層: 座標範圍驗證... ✅
🔍 第5層: 圖像品質檢查... ✅
🔍 第6層: 數據分佈分析... ✅
🔍 第7層: 整體品質評估... ✅
📊 綜合評分: 9.2/10 (優秀)
```

### 3. Optuna 智能優化
```bash
🔬 啟動 TPE 貝葉斯優化...
📈 Trial 01: mAP=0.743 (lr=0.01, bs=32)
📈 Trial 02: mAP=0.756 (lr=0.015, bs=16) ↑
📈 Trial 03: mAP=0.721 (lr=0.008, bs=24) ↓
...
🏆 最佳結果: Trial 50 - mAP=0.887
💾 最佳參數已保存至 config/best_params.yaml
```

## 📱 使用場景

### 1. 野生動物保育研究
- 自動化黑熊監測系統
- 棲地使用模式分析
- 族群數量評估

### 2. 生態攝影管理
- 相機陷阱影像自動分類
- 大量影像快速篩選
- 黑熊出沒熱點分析

### 3. 教育和科普
- 機器學習教學案例
- 保育意識推廣工具
- 科學研究方法展示

## ⚡ 性能優勢

### 速度表現
- **訓練速度**: GPU ~2小時/100 epochs
- **推理速度**: ~50ms/張圖像 (GPU)
- **優化效率**: 50次試驗找到最佳參數

### 準確度表現  
- **整體 mAP50**: 88.7%
- **黑熊識別精確率**: 89%
- **誤判率**: < 5%

### 資源需求
- **最低配置**: 8GB RAM, GTX 1060
- **推薦配置**: 16GB RAM, RTX 3070+
- **存儲需求**: ~2GB (含模型和數據)

---

**注意**: 本展示為效果模擬，實際結果會根據數據集品質和訓練參數而有所不同。
